<!DOCTYPE html>
<html lang="en">

<head>
  <title>Network</title>
  <meta name="viewport" content="width=device-width, height=device-height,initial-scale=1.0" />
  <link type="image/png" href="../static/logo.png" rel="icon">
  <link type="text/css" href="../static/style.css" rel="stylesheet">
  <link type="text/css" href="../static/jquery-ui.min.css" rel="stylesheet">
  <script src="../static/jquery-3.6.3.min.js"></script>
  <script src="../static/jquery-ui.min.js"></script>
  <script src="../static/script.js"></script>
  <link href="../static/bootstrap.min.css" rel="stylesheet">
  <script src="../static/bootstrap.bundle.min.js"></script>
  <style>
		body {
			margin: 0;
			padding: 0;
		}
	</style>
</head>

<body>
  <header>
    <nav class="navbar navbar-expand-sm bg-primary navbar-dark">
      <div class="container-fluid justify-content-center">
        <a class="navbar-brand" style="padding: 0px 0px; " href="{{ url_for('index') }}">
          <img src="../static/logo2.png" alt="Avatar Logo" style="width:110px; background-color: white;"
            class="rounded-pill">
        </a>
        <ul class="navbar-nav">
          <li class="nav-item" style="padding: 3px 0 0 0; ">
            <a class="navbar-brand" href="{{ url_for('index') }}">Gateway</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="{{ url_for('status') }}">Status</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('devices') }}">Devices</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Network</a>
          </li>
        </ul>
      </div>
    </nav>
  </header>
  <main>
    <div class="container mt-3">
      <div class="d-flex justify-content-end mt-5">
        <div class="flex-grow-1 d-flex align-items-center">
          <h3> LoRa Gateway Settings </h3>
        </div>
      </div>
      <div class="d-flex justify-content-end">
        <div class="flex-grow-1 d-flex align-items-center">
          <p>Configuration to cammunicate to LoRa devices and LoRaWAN server</p>
        </div>
      </div>

      <form class="mt-5">

        <h4>LoRaWAN Server Settings</h4>

        <div class="row mb-3">
          <label class="col-sm-2 col-form-label" for="serveraddr"> Server Address </label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="serveraddr" placeholder="Server Address" value="{{ system.gateway_conf.server_address }}">
          </div>
        </div>

        <div class="row mb-3">
          <label class="col-sm-2 col-form-label" for="serverport"> Server Port </label>
          <div class="col-sm-10">
            <input type="number" class="form-control" id="serverport" placeholder="Server Port" value="{{ system.gateway_conf.server_port }}">
          </div>
        </div>

        <div class="row mb-3">
          <label class="col-sm-2 col-form-label" for="gatewayid"> Gateway ID </label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="gatewayid" placeholder="Gateway ID" value="{{ system.gateway_conf.gateway_id }}">
          </div>
        </div>

        <div class="row mb-3">
          <label class="col-sm-2 col-form-label" for="latitude"> Latitude </label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="latitude" placeholder="Location info" value="{{ system.gateway_conf.gateway_lat }}">
          </div>
        </div>

        <div class="row mb-3">
          <label class="col-sm-2 col-form-label" for="longtitude"> Longtitude </label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="longtitude" placeholder="Location info" value="{{ system.gateway_conf.gateway_lon }}">
          </div>
        </div>
        
        <div class="row mb-3">
          <label class="col-sm-2 col-form-label" for="altitude"> Altitude </label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="altitude" placeholder="Location info" value="{{ system.gateway_conf.gateway_alt }}">
          </div>
        </div>

        <div class="mt-5">

          <h4>Radio Settings</h4>

          <div class="row mb-3">
            <label class="col-sm-2 col-form-label" for="frequency"> Frequency </label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="frequency" placeholder="Gateway's LoRa Frequency" value="{{ system.radio_conf.frequency }}">
            </div>
          </div>

          <div class="row mb-3">
            <label class="col-sm-2 col-form-label" for="spreadingfactor"> Spreading Factor </label>
            <div class="col-sm-10">
              <select class="form-select" id="spreadingfactor" value="{{ system.radio_conf.spreading_factor }}">
                <option>7</option>
                <option>8</option>
                <option>9</option>
                <option>10</option>
                <option>11</option>
                <option>12</option>
              </select>
            </div>
          </div>

          <div class="row mb-3">
            <label class="col-sm-2 col-form-label" for="codingrate"> Coding Rate </label>
            <div class="col-sm-10">
              <select class="form-select" id="codingrate" value="{{ system.radio_conf.coding_rate }}">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
              </select>
            </div>
          </div>

          <div class="row mb-3">
            <label class="col-sm-2 col-form-label" for="SBW"> Signal Bandwidth </label>
            <div class="col-sm-10">
              <select class="form-select" id="SBW" value="{{ system.radio_conf.bandwidth }}">
                <option>125000</option>
                <option>250000</option>
              </select>
            </div>
          </div>

        </div>
        <div class="d-flex justify-content-end mt-5">
          <div>
            <button type="submit" onclick="saveData()" class="btn btn-primary me-3">Save</button>
          </div>
        </div>

    </div>
    </form>
    </div>
  </main>
  <footer class="bg-primary text-white py-3 mt-5">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-auto">
          <p class="mb-0">&copy;2022 <a href="https://www.opensnz-technology.com" class="text-white" target="_blank">Opensnz Technology</a>. Tous droits réservés.</p>
        </div>
      </div>
    </div>
  </footer>
</body>

</html>